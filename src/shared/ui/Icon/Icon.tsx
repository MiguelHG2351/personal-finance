'use client';

import React from 'react';

// Tipos de iconos disponibles
export type IconName =
  | 'overview'
  | 'transactions'
  | 'budgets'
  | 'pots'
  | 'recurring-bills'
  | 'minimize'
  | 'minimized-logo';

// Tamaños predefinidos
export type IconSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | 'custom';

// Mapeo de tamaños a clases CSS
const sizeClasses: Record<IconSize, string> = {
  xs: 'w-3 h-3', // 12px
  sm: 'w-4 h-4', // 16px
  md: 'w-6 h-6', // 24px
  lg: 'w-8 h-8', // 32px
  xl: 'w-12 h-12', // 48px
  custom: '', // Para tamaños personalizados
};

// Definición de iconos SVG como componentes React
const iconComponents: Record<IconName, React.FC<React.SVGProps<SVGSVGElement>>> = {
  overview: (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" {...props}>
      <path d="M21 11.5928L21 20.26C21 20.6578 20.842 21.0394 20.5607 21.3207C20.2794 21.602 19.8978 21.76 19.5 21.76H15.75C15.3522 21.76 14.9706 21.602 14.6893 21.3207C14.408 21.0394 14.25 20.6578 14.25 20.26L14.25 16.51C14.25 16.3111 14.171 16.1203 14.0303 15.9797C13.8897 15.839 13.6989 15.76 13.5 15.76H10.5C10.3011 15.76 10.1103 15.839 9.96967 15.9797C9.82902 16.1203 9.75 16.3111 9.75 16.51L9.75 20.26C9.75 20.6578 9.59196 21.0394 9.31066 21.3207C9.02936 21.602 8.64782 21.76 8.25 21.76H4.5C4.10218 21.76 3.72064 21.602 3.43934 21.3207C3.15804 21.0394 3 20.6578 3 20.26L3 11.5928C2.99997 11.3852 3.04303 11.1799 3.12646 10.9898C3.20989 10.7997 3.33187 10.629 3.48469 10.4884L10.9847 3.41219L10.995 3.40188C11.2711 3.15075 11.631 3.0116 12.0042 3.0116C12.3775 3.0116 12.7373 3.15075 13.0134 3.40188C13.0166 3.40555 13.0201 3.40899 13.0237 3.41219L20.5237 10.4884C20.675 10.6297 20.7954 10.8007 20.8774 10.9908C20.9594 11.1809 21.0011 11.3858 21 11.5928Z" fill="currentColor"/>
    </svg>
  ),
  transactions: (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" width="100%" height="100%" overflow="visible" viewBox="0 0 17 17" {...props}>
      <path d="M7.4434 12.4637C7.50025 12.6007 7.51519 12.7516 7.48632 12.8971C7.45745 13.0426 7.38607 13.1763 7.28122 13.2812L4.28122 16.2812C4.21156 16.3509 4.12884 16.4063 4.0378 16.444C3.94675 16.4818 3.84915 16.5012 3.75059 16.5012C3.65203 16.5012 3.55443 16.4818 3.46339 16.444C3.37234 16.4063 3.28962 16.3509 3.21997 16.2812L0.219966 13.2812C0.114957 13.1763 0.0434315 13.0426 0.0144437 12.8971C-0.0145441 12.7515 0.00030937 12.6006 0.0571237 12.4635C0.113938 12.3264 0.210159 12.2092 0.333604 12.1268C0.457049 12.0444 0.602169 12.0005 0.750591 12.0006H3.00059V0.75059C3.00059 0.551678 3.07961 0.360912 3.22026 0.22026C3.36091 0.0796079 3.55168 0.000590086 3.75059 0.000590086C3.9495 0.000590086 4.14027 0.0796079 4.28092 0.22026C4.42157 0.360912 4.50059 0.551678 4.50059 0.75059V12.0006H6.75059C6.89893 12.0006 7.04392 12.0446 7.16724 12.1271C7.29056 12.2095 7.38667 12.3267 7.4434 12.4637ZM16.2812 3.21996L13.2812 0.219965C13.2116 0.150233 13.1288 0.0949136 13.0378 0.0571704C12.9467 0.0194272 12.8492 0 12.7506 0C12.652 0 12.5544 0.0194272 12.4634 0.0571704C12.3723 0.0949136 12.2896 0.150233 12.22 0.219965L9.21997 3.21996C9.11496 3.32486 9.04343 3.45855 9.01444 3.60411C8.98546 3.74967 9.00031 3.90057 9.05713 4.03768C9.11394 4.1748 9.21016 4.29198 9.3336 4.37438C9.45705 4.45678 9.60217 4.50071 9.75059 4.50059H12.0006V15.7506C12.0006 15.9495 12.0796 16.1403 12.2203 16.2809C12.3609 16.4216 12.5517 16.5006 12.7506 16.5006C12.9495 16.5006 13.1403 16.4216 13.2809 16.2809C13.4216 16.1403 13.5006 15.9495 13.5006 15.7506V4.50059H15.7506C15.899 4.50071 16.0441 4.45678 16.1676 4.37438C16.291 4.29198 16.3872 4.1748 16.4441 4.03768C16.5009 3.90057 16.5157 3.74967 16.4867 3.60411C16.4578 3.45855 16.3862 3.32486 16.2812 3.21996Z" fill="currentColor" />
    </svg>
  ),
  budgets: (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" {...props}>
      <path d="M2.32038 11.5919C2.54185 9.73474 3.30145 7.98288 4.50569 6.55187C4.63894 6.39119 4.80425 6.2601 4.99106 6.16696C5.17787 6.07383 5.38206 6.02071 5.59057 6.01101C5.79908 6.0013 6.00732 6.03522 6.20198 6.11059C6.39663 6.18597 6.57341 6.30114 6.721 6.44875L9.31507 9.09812C9.56489 9.34737 9.71799 9.67731 9.74701 10.029C9.77603 10.3807 9.67909 10.7313 9.4735 11.0181C9.31778 11.239 9.2005 11.4847 9.12663 11.7447C9.10316 11.8214 9.05572 11.8886 8.99126 11.9363C8.9268 11.9841 8.84873 12.0099 8.7685 12.01L2.6935 12.01C2.64057 12.0101 2.58821 11.999 2.53988 11.9774C2.49155 11.9558 2.44834 11.9242 2.4131 11.8847C2.37785 11.8452 2.35137 11.7987 2.33539 11.7482C2.31941 11.6977 2.31429 11.6445 2.32038 11.5919ZM12.8804 3.01562C12.6732 2.99755 12.4645 3.02277 12.2676 3.08966C12.0707 3.15655 11.8898 3.26366 11.7365 3.40419C11.5832 3.54472 11.4608 3.71559 11.377 3.90596C11.2933 4.09632 11.2501 4.30202 11.2501 4.50999V8.32281C11.2475 8.6766 11.3711 9.01972 11.5988 9.29053C11.8265 9.56135 12.1433 9.74209 12.4923 9.80031C13.1494 9.90872 13.7518 10.2327 14.2044 10.7212C14.6571 11.2098 14.9344 11.835 14.9925 12.4985C15.0506 13.162 14.8863 13.8259 14.5254 14.3857C14.1646 14.9455 13.6277 15.3693 12.9994 15.5903C12.9263 15.6172 12.8632 15.6658 12.8186 15.7297C12.774 15.7936 12.7501 15.8696 12.7501 15.9475L12.7501 22.0628C12.7497 22.1159 12.7606 22.1685 12.7821 22.217C12.8036 22.2656 12.8352 22.309 12.8747 22.3445C12.9142 22.3799 12.9608 22.4066 13.0114 22.4227C13.062 22.4388 13.1154 22.4439 13.1682 22.4378C15.5081 22.1489 17.6649 21.0247 19.2417 19.272C20.8185 17.5193 21.7093 15.256 21.7501 12.8987C21.8204 7.80906 17.9241 3.4675 12.8804 3.01562ZM10.9923 15.5875C10.573 15.438 10.1923 15.197 9.87775 14.8821C9.56317 14.5672 9.32261 14.1863 9.1735 13.7669C9.14794 13.6925 9.09996 13.6279 9.03617 13.5819C8.97237 13.5359 8.8959 13.5108 8.81725 13.51L2.69257 13.51C2.63956 13.5097 2.58709 13.5206 2.5386 13.542C2.49012 13.5634 2.44673 13.5949 2.41129 13.6343C2.37586 13.6737 2.34918 13.7202 2.33303 13.7707C2.31687 13.8212 2.3116 13.8745 2.31757 13.9272C2.58017 16.0941 3.56166 18.1105 5.10514 19.654C6.64862 21.1975 8.66498 22.179 10.8319 22.4416C10.8846 22.4475 10.9379 22.4423 10.9884 22.4261C11.0389 22.4099 11.0854 22.3833 11.1248 22.3478C11.1642 22.3124 11.1957 22.269 11.2171 22.2205C11.2386 22.172 11.2495 22.1196 11.2491 22.0666L11.2491 15.9475C11.2493 15.8682 11.2246 15.7908 11.1785 15.7262C11.1324 15.6617 11.0673 15.6132 10.9923 15.5875Z" fill="currentColor"/>
    </svg>
  ),
  pots: (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" {...props}>
      <path d="M17.25 5.33595V3.76001C17.25 3.36219 17.092 2.98065 16.8107 2.69935C16.5294 2.41804 16.1478 2.26001 15.75 2.26001L8.25 2.26001C7.85218 2.26001 7.47064 2.41804 7.18934 2.69935C6.90804 2.98065 6.75 3.36219 6.75 3.76001V5.33595C5.90354 5.50963 5.14289 5.96995 4.59637 6.63927C4.04985 7.30858 3.75092 8.14591 3.75 9.01001L3.75 19.51C3.75 20.5046 4.14509 21.4584 4.84835 22.1617C5.55161 22.8649 6.50544 23.26 7.5 23.26L16.5 23.26C17.4946 23.26 18.4484 22.8649 19.1517 22.1617C19.8549 21.4584 20.25 20.5046 20.25 19.51L20.25 9.01001C20.2491 8.14591 19.9501 7.30858 19.4036 6.63927C18.8571 5.96995 18.0965 5.50963 17.25 5.33595ZM11.25 3.76001L12.75 3.76001V5.26001H11.25V3.76001ZM8.25 3.76001H9.75V5.26001H8.25V3.76001ZM12.75 18.01V18.76C12.75 18.9589 12.671 19.1497 12.5303 19.2903C12.3897 19.431 12.1989 19.51 12 19.51C11.8011 19.51 11.6103 19.431 11.4697 19.2903C11.329 19.1497 11.25 18.9589 11.25 18.76V18.01H10.5C10.3011 18.01 10.1103 17.931 9.96967 17.7903C9.82902 17.6497 9.75 17.4589 9.75 17.26C9.75 17.0611 9.82902 16.8703 9.96967 16.7297C10.1103 16.589 10.3011 16.51 10.5 16.51H12.75C12.9489 16.51 13.1397 16.431 13.2803 16.2903C13.421 16.1497 13.5 15.9589 13.5 15.76C13.5 15.5611 13.421 15.3703 13.2803 15.2297C13.1397 15.089 12.9489 15.01 12.75 15.01H11.25C10.6533 15.01 10.081 14.773 9.65901 14.351C9.23705 13.929 9 13.3567 9 12.76C9 12.1633 9.23705 11.591 9.65901 11.169C10.081 10.7471 10.6533 10.51 11.25 10.51V9.76001C11.25 9.5611 11.329 9.37033 11.4697 9.22968C11.6103 9.08903 11.8011 9.01001 12 9.01001C12.1989 9.01001 12.3897 9.08903 12.5303 9.22968C12.671 9.37033 12.75 9.5611 12.75 9.76001V10.51H13.5C13.6989 10.51 13.8897 10.589 14.0303 10.7297C14.171 10.8703 14.25 11.0611 14.25 11.26C14.25 11.4589 14.171 11.6497 14.0303 11.7903C13.8897 11.931 13.6989 12.01 13.5 12.01H11.25C11.0511 12.01 10.8603 12.089 10.7197 12.2297C10.579 12.3703 10.5 12.5611 10.5 12.76C10.5 12.9589 10.579 13.1497 10.7197 13.2903C10.8603 13.431 11.0511 13.51 11.25 13.51H12.75C13.3467 13.51 13.919 13.7471 14.341 14.169C14.7629 14.591 15 15.1633 15 15.76C15 16.3567 14.7629 16.929 14.341 17.351C13.919 17.773 13.3467 18.01 12.75 18.01ZM15.75 5.26001H14.25V3.76001H15.75V5.26001Z" fill="currentColor"/>
    </svg>
  ),
  'recurring-bills': (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" {...props}>
      <path d="M20.25 4.51001L3.75 4.51001C3.35218 4.51001 2.97064 4.66804 2.68934 4.94935C2.40804 5.23065 2.25 5.61219 2.25 6.01001L2.25 20.26C2.25007 20.3878 2.28281 20.5135 2.34511 20.6251C2.40741 20.7368 2.49721 20.8306 2.60597 20.8978C2.71474 20.9649 2.83887 21.0032 2.96657 21.0089C3.09427 21.0146 3.22131 20.9875 3.33563 20.9303L6 19.5981L8.66437 20.9303C8.76857 20.9825 8.88348 21.0096 9 21.0096C9.11652 21.0096 9.23143 20.9825 9.33563 20.9303L12 19.5981L14.6644 20.9303C14.7686 20.9825 14.8835 21.0096 15 21.0096C15.1165 21.0096 15.2314 20.9825 15.3356 20.9303L18 19.5981L20.6644 20.9303C20.7787 20.9875 20.9057 21.0146 21.0334 21.0089C21.1611 21.0032 21.2853 20.9649 21.394 20.8978C21.5028 20.8306 21.5926 20.7368 21.6549 20.6251C21.7172 20.5135 21.7499 20.3878 21.75 20.26L21.75 6.01001C21.75 5.61219 21.592 5.23065 21.3107 4.94935C21.0294 4.66804 20.6478 4.51001 20.25 4.51001ZM16.5 14.26L7.5 14.26C7.30109 14.26 7.11032 14.181 6.96967 14.0403C6.82902 13.8997 6.75 13.7089 6.75 13.51C6.75 13.3111 6.82902 13.1203 6.96967 12.9797C7.11032 12.839 7.30109 12.76 7.5 12.76L16.5 12.76C16.6989 12.76 16.8897 12.839 17.0303 12.9797C17.171 13.1203 17.25 13.3111 17.25 13.51C17.25 13.7089 17.171 13.8997 17.0303 14.0403C16.8897 14.181 16.6989 14.26 16.5 14.26ZM16.5 11.26L7.5 11.26C7.30109 11.26 7.11032 11.181 6.96967 11.0403C6.82902 10.8997 6.75 10.7089 6.75 10.51C6.75 10.3111 6.82902 10.1203 6.96967 9.97968C7.11032 9.83903 7.30109 9.76001 7.5 9.76001L16.5 9.76001C16.6989 9.76001 16.8897 9.83903 17.0303 9.97968C17.171 10.1203 17.25 10.3111 17.25 10.51C17.25 10.7089 17.171 10.8997 17.0303 11.0403C16.8897 11.181 16.6989 11.26 16.5 11.26Z" fill="currentColor"/>
    </svg>
  ),
  minimize: (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" {...props}>
      <path d="M15.0001 8.26002L15.0001 17.26C15.0001 17.4589 14.9211 17.6497 14.7804 17.7904C14.6398 17.931 14.449 18.01 14.2501 18.01H12.0001L12.0001 21.76C12.0002 21.9084 11.9563 22.0536 11.8739 22.177C11.7915 22.3005 11.6743 22.3967 11.5372 22.4535C11.4001 22.5103 11.2492 22.5252 11.1036 22.4962C10.9581 22.4672 10.8244 22.3957 10.7195 22.2906L1.71948 13.2906C1.64974 13.221 1.59443 13.1383 1.55668 13.0472C1.51894 12.9562 1.49951 12.8586 1.49951 12.76C1.49951 12.6615 1.51894 12.5639 1.55668 12.4728C1.59443 12.3818 1.64974 12.2991 1.71948 12.2294L10.7195 3.2294C10.8244 3.12439 10.9581 3.05286 11.1036 3.02387C11.2492 2.99489 11.4001 3.00974 11.5372 3.06655C11.6743 3.12337 11.7915 3.21959 11.8739 3.34303C11.9563 3.46648 12.0002 3.6116 12.0001 3.76002V7.51002H14.2501C14.449 7.51002 14.6398 7.58904 14.7804 7.72969C14.9211 7.87034 15.0001 8.06111 15.0001 8.26002ZM17.2501 7.51002C17.0512 7.51002 16.8604 7.58904 16.7198 7.72969C16.5791 7.87034 16.5001 8.06111 16.5001 8.26002V17.26C16.5001 17.4589 16.5791 17.6497 16.7198 17.7904C16.8604 17.931 17.0512 18.01 17.2501 18.01C17.449 18.01 17.6398 17.931 17.7804 17.7904C17.9211 17.6497 18.0001 17.4589 18.0001 17.26L18.0001 8.26002C18.0001 8.06111 17.9211 7.87034 17.7804 7.72969C17.6398 7.58904 17.449 7.51002 17.2501 7.51002ZM20.2501 7.51002C20.0512 7.51002 19.8604 7.58904 19.7198 7.72969C19.5791 7.87034 19.5001 8.06111 19.5001 8.26002L19.5001 17.26C19.5001 17.4589 19.5791 17.6497 19.7198 17.7904C19.8604 17.931 20.0512 18.01 20.2501 18.01C20.449 18.01 20.6398 17.931 20.7804 17.7904C20.9211 17.6497 21.0001 17.4589 21.0001 17.26L21.0001 8.26002C21.0001 8.06111 20.9211 7.87034 20.7804 7.72969C20.6398 7.58904 20.449 7.51002 20.2501 7.51002Z" fill="currentColor"/>
    </svg>
  ),
  'minimized-logo': (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="22" viewBox="0 0 14 22" fill="none" {...props}>
      <path d="M0 0H14V22H0V0Z" fill="currentColor"/>
    </svg>
  ),
};

export interface IconProps {
  /** Nombre del icono a mostrar */
  name: IconName;
  /** Tamaño del icono */
  size?: IconSize;
  /** Ancho personalizado (solo cuando size='custom') */
  width?: number;
  /** Alto personalizado (solo cuando size='custom') */
  height?: number;
  /** Clases CSS adicionales */
  className?: string;
  /** Color del icono (se aplica via currentColor) */
  color?: string;
}

/**
 * Componente Icon reutilizable para mostrar iconos SVG
 *
 * @example
 * ```tsx
 * // Icono básico
 * <Icon name="overview" />
 *
 * // Con tamaño específico
 * <Icon name="budgets" size="lg" />
 *
 * // Con tamaño personalizado
 * <Icon name="transactions" size="custom" width={20} height={20} />
 *
 * // Con color y clases adicionales
 * <Icon name="pots" color="#277c78" className="hover:opacity-80" />
 * ```
 */
export default function Icon({
  name,
  size = 'md',
  width,
  height,
  className = '',
  color,
}: IconProps) {
  const IconComponent = iconComponents[name];

  if (!IconComponent) {
    console.warn(`Icon "${name}" no encontrado`);
    return null;
  }

  // Determinar dimensiones
  const finalWidth = size === 'custom' && width ? width : undefined;
  const finalHeight = size === 'custom' && height ? height : undefined;

  // Clases CSS para el icono
  const iconClasses = [
    'shrink-0',
    size !== 'custom' ? sizeClasses[size] : '',
    className,
  ].filter(Boolean).join(' ');

  // Estilos inline para color y dimensiones personalizadas
  const iconStyles: React.CSSProperties = {
    ...(color && { color }),
    ...(finalWidth && { width: finalWidth }),
    ...(finalHeight && { height: finalHeight }),
  };

  return (
    <IconComponent
      className={iconClasses}
      style={iconStyles}
      aria-hidden="true"
    />
  );
}
